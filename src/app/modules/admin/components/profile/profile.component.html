<h1 style="text-align: center">Administrador de pagos</h1>

<!--  -->
<!-- New Version -->
<!--  -->
<mat-accordion *ngFor="let trainer of trainers">
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>{{ trainer }}</mat-panel-title>
    </mat-expansion-panel-header>
    <p>Informacion de {{ trainer }}</p>
    <!-- Mat-Accordion anidado -->
    <mat-accordion>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>Informacion detallada</mat-panel-title>
        </mat-expansion-panel-header>
        <table
          mat-table
          [dataSource]="transformSummaryToTableData(trainer)"
          matSort
          class="mat-table"
        >
          <ng-container matColumnDef="fecha">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.fecha }}
            </td>
          </ng-container>
          <ng-container matColumnDef="quincena">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Quincena</th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.quincena }}
            </td>
          </ng-container>
          <ng-container matColumnDef="clientesActivos6Dias">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Activos 6 dias
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{
                summary?.clientesActivos6Dias
                  ? summary?.clientesActivos6Dias
                  : "0"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="clientesPendientes6Dias">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Pendientes 6 dias
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{
                summary?.clientesPendientes6Dias
                  ? summary?.clientesPendientes6Dias
                  : "0"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="clientesActivos3Dias">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Activos 3 dias
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{
                summary?.clientesActivos3Dias
                  ? summary?.clientesActivos3Dias
                  : "0"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="clientesPendientes3Dias">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Pendientes 3 dias
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{
                summary?.clientesPendientes3Dias
                  ? summary?.clientesPendientes3Dias
                  : "0"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresosDeEstaQuincena">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingresos de esta quincena
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresosDeEstaQuincena | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresosQuincenaPasada">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingresos de quincena pasada
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresosQuincenaPasada | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresosPendientes">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingresos pendientes
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresosPendientes | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresoBruto">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingreso bruto
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresoBruto | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="pagoDelEntrenador">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Pago del entrenador
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.pagoDelEntrenador | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresoNeto">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingreso neto
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresoNeto | currency }}
            </td>
          </ng-container>
          <!-- Encabezados y Celdas -->
          <tr
            mat-header-row
            *matHeaderRowDef="clientGeneralSummaryColumns"
          ></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: clientGeneralSummaryColumns"
          ></tr>
        </table>
      </mat-expansion-panel>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>Resumen</mat-panel-title>
        </mat-expansion-panel-header>
        <table
          mat-table
          [dataSource]="transformSummaryToTableData(trainer)"
          matSort
          class="mat-table"
        >
          <ng-container matColumnDef="fecha">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.fecha }}
            </td>
          </ng-container>
          <ng-container matColumnDef="quincena">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Quincena</th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.quincena }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresosPendientes">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingresos pendientes
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresosPendientes | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresoBruto">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingreso bruto
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresoBruto | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="pagoDelEntrenador">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Pago del entrenador
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.pagoDelEntrenador | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresoNeto">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingreso neto
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresoNeto | currency }}
            </td>
          </ng-container>
          <!-- Encabezados y Celdas -->
          <tr mat-header-row *matHeaderRowDef="incomeSummaryColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: incomeSummaryColumns"></tr>
        </table>
      </mat-expansion-panel>
    </mat-accordion>
  </mat-expansion-panel>
</mat-accordion>
<mat-accordion>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>General</mat-panel-title>
    </mat-expansion-panel-header>
    <p>Informacion general</p>
    <!-- Mat-Accordion anidado -->
    <mat-accordion>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>Informacion totalizada</mat-panel-title>
        </mat-expansion-panel-header>
        <table
          mat-table
          [dataSource]="transformGeneralSummary()"
          matSort
          class="mat-table"
        >
          <ng-container matColumnDef="fecha">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha</th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.fecha }}
            </td>
          </ng-container>
          <ng-container matColumnDef="quincena">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Quincena</th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.quincena }}
            </td>
          </ng-container>
          <ng-container matColumnDef="clientesActivos6Dias">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Activos 6 dias
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{
                summary?.clientesActivos6Dias
                  ? summary?.clientesActivos6Dias
                  : "0"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="clientesPendientes6Dias">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Pendientes 6 dias
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{
                summary?.clientesPendientes6Dias
                  ? summary?.clientesPendientes6Dias
                  : "0"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="clientesActivos3Dias">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Activos 3 dias
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{
                summary?.clientesActivos3Dias
                  ? summary?.clientesActivos3Dias
                  : "0"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="clientesPendientes3Dias">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Pendientes 3 dias
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{
                summary?.clientesPendientes3Dias
                  ? summary?.clientesPendientes3Dias
                  : "0"
              }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresosDeEstaQuincena">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingresos de esta quincena
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresosDeEstaQuincena | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresosQuincenaPasada">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingresos de quincena pasada
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresosQuincenaPasada | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresosPendientes">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingresos pendientes
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresosPendientes | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresoBruto">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingreso bruto
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresoBruto | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="pagoDelEntrenador">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Pago a entrenadores
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.pagoDelEntrenador | currency }}
            </td>
          </ng-container>
          <ng-container matColumnDef="ingresoNeto">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Ingreso neto
            </th>
            <td mat-cell *matCellDef="let summary">
              <span class="status-circle"></span>
              {{ summary?.ingresoNeto | currency }}
            </td>
          </ng-container>
          <!-- Encabezados y Celdas -->
          <tr
            mat-header-row
            *matHeaderRowDef="clientGeneralSummaryColumns"
          ></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: clientGeneralSummaryColumns"
          ></tr>
        </table>
      </mat-expansion-panel>
    </mat-accordion>
  </mat-expansion-panel>
</mat-accordion>
